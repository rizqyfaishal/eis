tinymce.init({
    selector: 'textarea',  // change this value according to your HTML
    plugins: 'advlist anchor autolink autoresize bbcode charmap code codesample emoticons ' +
    'colorpicker contextmenu directionality fullpage fullscreen hr imagetools importcss insertdatetime' +
    ' layer legacyoutput link lists media nonbreaking noneditable pagebreak paste preview ' +
    'print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount image ',
    file_browser_callback : elFinderBrowser,
});

function elFinderBrowser (field_name, url, type, win) {
    tinymce.activeEditor.windowManager.open({
        file: '<?= route('elfinder.tinymce4') ?>',
        title: 'elFinder 2.0',
        width: 900,
        height: 450,
        resizable: 'yes'
    },{
        setUrl: function (url) {
            win.document.getElementById(field_name).value = url;
    }
    });

    return false;
}